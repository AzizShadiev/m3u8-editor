<Window x:Class="WpfApp1.EditChannelWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Редактор канала" Height="780" Width="520" Background="#1E1E1E" WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl Background="Transparent" BorderThickness="0">
            <TabItem Header="Данные">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10,15,10,0">
                        <TextBlock Text="Название:" Foreground="Gray"/>
                        <TextBox x:Name="TxtName" Background="#2D2D2D" Foreground="White" Height="28" Margin="0,0,0,10" VerticalContentAlignment="Center" Padding="5,0"/>
                        
                        <TextBlock Text="Группа:" Foreground="Gray"/>
                        <TextBox x:Name="TxtGroup" Background="#2D2D2D" Foreground="White" Height="28" Margin="0,0,0,10" VerticalContentAlignment="Center" Padding="5,0"/>
                        
                        <TextBlock Text="Логотип (URL):" Foreground="Gray"/>
                        <TextBox x:Name="TxtLogo" Background="#2D2D2D" Foreground="White" Height="28" Margin="0,0,0,10" VerticalContentAlignment="Center" Padding="5,0"/>

                        <TextBlock Text="TVG-ID (Идентификатор программы):" Foreground="Gray"/>
                        <TextBox x:Name="TxtTvgId" Background="#2D2D2D" Foreground="Cyan" Height="28" Margin="0,0,0,10" VerticalContentAlignment="Center" Padding="5,0"/>
                        
                        <TextBlock Text="Потоки (Выбери основной):" Foreground="Cyan" Margin="0,10,0,5" FontWeight="Bold"/>
                        <Border Background="#252526" CornerRadius="4" Padding="5">
                            <ItemsControl x:Name="ItemsSources">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Margin="0,2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Ellipse Width="8" Height="8" Fill="{Binding StatusColor}" Margin="5,0"/>
                                            <RadioButton Grid.Column="1" IsChecked="{Binding IsActive}" GroupName="MainStream" VerticalAlignment="Center" Margin="5,0"/>
                                            <TextBox Grid.Column="2" Text="{Binding Url}" Background="#333" Foreground="White" BorderThickness="0" Padding="3" VerticalContentAlignment="Center"/>
                                            <Button Grid.Column="3" Content="▶" Click="BtnPlaySource_Click" Width="25" Margin="5,0" Background="#3E3E42" Foreground="Lime"/>
                                            <Button Grid.Column="4" Content="✕" Click="BtnRemoveSource_Click" Width="25" Background="#451111" Foreground="Red"/>
                                        </Grid>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Border>
                        <Button Content="+ Добавить новый поток" Click="BtnAddSource_Click" Margin="0,5,0,15" Background="#3E3E42" Foreground="White"/>

                        <TextBlock Text="Опции VLC:" Foreground="Gray"/>
                        <TextBox x:Name="TxtOptions" Background="#2D2D2D" Foreground="LightGreen" Height="60" Margin="0,0,0,10" AcceptsReturn="True" VerticalContentAlignment="Top" Padding="5"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Быстрая вставка">
                <Grid Margin="10,15,10,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBox x:Name="TxtRawInput" Background="#2D2D2D" Foreground="White" AcceptsReturn="True" TextWrapping="Wrap" FontFamily="Consolas" Padding="5"/>
                    <Button Grid.Row="1" Content="⚡ Разобрать блок" Click="BtnParseRaw_Click" Height="35" Margin="0,10,0,0" Background="#3E3E42" Foreground="White"/>
                </Grid>
            </TabItem>
        </TabControl>

        <DockPanel Grid.Row="1" Margin="10,10,10,0">
            <Button Content="🗑 Удалить" Click="BtnDelete_Click" Width="90" Height="32" Background="#451111" Foreground="#FF8888" BorderThickness="0"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Отмена" IsCancel="True" Width="80" Height="32" Background="#3E3E42" Foreground="White" Margin="0,0,10,0"/>
                <Button Content="Сохранить" Click="BtnSave_Click" Width="100" Height="32" Background="#0E639C" Foreground="White" BorderThickness="0"/>
            </StackPanel>
        </DockPanel>
    </Grid>
</Window>